!function(a){!function(a){function b(a){function b(b){var d=G[G.length-1];c(b,d);var e,f=j(b);f!==!1&&b===f.location&&(b=s(f)),G.push(b);try{e=a(b)}finally{G.pop()}return e}function c(a,b){var c=j(b),f=j(a),g=!1;if(c===!1?e(a)||(g="Access to package internal files from outside of package"):d(a,c)||(g=f===!1?"Access to out-of-package files from inside packages":"Cross-package access"),g)throw g+=' is denied!\nAttempt to access "'+a+'" from "'+b+'"',new Error(g);return!0}function d(a,b){var c=j(a);return c===!1?n(a,(p(b)?K.findFarthestParent(b):b).external):c===b||o(b,c,!0)&&(q(a,c)||r("public",a,c))||o(c,b,!0)&&!q(a,b)&&r("protected",a,c)}function e(a){var b=j(a);return b===!1?!0:!p(b)&&(q(a,b)||r("public",a,b))}function f(a,b){var c,d;a=a.constructor!==Array?[a]:a.slice();for(var e=0;e<a.length;)d=a[e],c=u(d)?d:{location:d},b&&g(c,b),y(c,F.packageDefaults),"string"==typeof c.location?(h(c,b),a.splice(e,1)):(a[e]=c,++e),c.packages&&(c.packages=f(c.packages,c),0===c.packages.length&&(c.packages=!1));return a}function g(a,b){var c={};for(var d in b.inheritable)b.inheritable[d]===!0&&(c[d]=b[d]);return y(a,c),a}function h(a,b){var c=v(m(b)),d=c.length>0;a.location=x(c,a.location),i(a,c);var e=s(a);return C[a.location]=a,K.insertPackage(a),B[a.location]=a.location,B[e]=a.location,d&&(E[a.location]=c,E[e]=c),a}function i(a,b){var c=b.length>0;if(c&&a.external)throw new Error('Nested packages can\'t have own "external" dependencies. \nTrace: package "'+a.location+'" inside package"'+b+'" has "external": '+a.external);return!0}function j(a){if(a in C)return C[a];if(a in B)return B[a]!==!1?C[B[a]]:!1;var b,c;if((b=K.findClosestParent(a))!==!1){for(;b&&b.packages;)c=b,b=k(a,c.packages,c.location);return b=b||c,B[a]=b.location,b}return(b=k(a,D))?b:(B[a]=!1,!1)}function k(a,b,c){for(var d=0;d<b.length;d++){var e=b[d];if(l(a,e,c))return j(a)}return!1}function l(a,b,c){for(var d,e="",f=0,g=t(a,c).split("/"),i=0;i<g.length;i++)e+=(i>0?"/":"")+g[i],n(e,b.location)&&(d=A(b),d.location=e,h(d,c),B[a]=d.location,++f);return f>0}function m(a){return a?"string"!=typeof a?a.location:a:""}function n(a,b){if(!b)return!1;if("string"==typeof b)return a===b;if(b.constructor===RegExp)return b.test(a);if("function"==typeof b)return b(a);if(b.constructor===Array){for(var c=0;c<b.length;c++)if(n(a,b[c]))return!0;return!1}throw new Error("Pattern should be either string, regexp, or function")}function o(a,b,c){return a===b?!1:(a=m(a),b=m(b),c?E[b]===a:0===b.indexOf(a))}function p(a){return m(a)in E}function q(a,b){return a===b.location||o(b,a,!0)&&a.slice(-b.main.length)===b.main}function r(a,b,c){return n(t(b,c),c[a])}function s(a){return x(a.location,a.main)}function t(a,b){var c=m(b).length;return 0===c?a:a.slice(c+1)}function u(a){return"object"==typeof a&&a.constructor===Object}function v(a){return a.replace(/^\/+|\/+$/g,"")}function w(a){return a.split("/").length}function x(){for(var a,b="",c=-1,d=[].slice.call(arguments);++c<d.length;)a=d[c],null!=a&&(b+=a+"/");return v(b)}function y(a){for(var b=[].slice.call(arguments,1),c=0;c<b.length;c++){var d=b[c];for(var e in d)if(d.hasOwnProperty(e)){var f=d[e];a.hasOwnProperty(e)?u(a[e])&&y(a[e],f):a[e]=u(f)?A(f):f}}return a}function z(a){for(var b=[].slice.call(arguments,1),c=0;c<b.length;c++){var d=b[c];for(var e in d)if(d.hasOwnProperty(e)){var f=d[e];u(f)&&u(a[e])?z(a[e],f):a[e]=u(f)?A(f):f}}return a}function A(a){var b={};for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];b[c]=d.constructor===Array?d.slice():u(d)?A(d):d}return b}var B={},C={},D=[],E={},F={packageDefaults:{main:"main","public":!1,external:!1,packages:!1,"protected":!1,inheritable:{main:!1,"public":!1,packages:!1,"protected":!1,inheritable:!0}}},G=["**root**"],H=!1,I=!1;if(b.packages={init:function(a){if(H)throw new Error("Packages list already initialized");return H=!0,D=f(a),!0},configure:function(a){if(I)throw new Error("Packages options already configured");I=!0,z(F,a)}},"packages"in a)throw new Error("Can't apply 'require-packages' plugin: current 'require' function already has 'packages' property");for(var J in a)b[J]=a[J];var K=function(){function a(a){for(var b=0;b<d.length-1;b++)if(a>d[b]&&a<d[b+1])return b;return-1}function b(b){var c=w(b);if(!(c in e)){var f=a(c);d.splice(f+1,0,c);var g=e[d[f]];e[c]=null!=g?g:-1}return e[c]}var c=[],d=[-1/0,1/0],e={};return{insertPackage:function(a){var d=a.location;c.splice(b(d)+1,0,d);var f=w(d);for(var g in e)g>=f&&++e[g]},findClosestParent:function(a){if(0===c.length)return!1;for(var d=b(a);d>=0;d--)if(o(c[d],a))return E[a]=c[d],C[c[d]];return!1},findFarthestParent:function(a){if(0===c.length)return!1;for(var b=0;b<c.length;b++)if(o(c[b],a))return C[c[b]];return!1}}}();return b}a.require=b(a.require)}(a),lmd_require=a.require}(sandbox);